索引是单独的存储在磁盘上的数据库结构，包含数据表里所有记录的引用指针。索引可对数据库表中的一列或多列值进行排序，提高特定数据的查询速度。
索引的存储类型有BTREE和HASH两种，MyISAM和InnoDB支持BTREE，MEMORY/HEAP支持HASH和BTREE。
- 优点
1) 创建唯一索引，可保证数据库表中每一行数据的唯一性
2) 加快数据的查询速度
3) 加速表与表之间的连接
4) 减少查询中分组和排序的时间
- 缺点
1) 创建和维护索引需要耗费时间，数据量增多耗费增多
2) 需要额外的磁盘空间
3) 对表操作时索引也会动态维护，降低数据的维护速度
- 分类
1) 普通索引
基本索引类型，允许重复值和空值
2) 唯一索引
要求值必须唯一，允许有空值，但主键索引不允许有空值
3) 单列索引
只包含单个列
4) 组合索引
多个列组合而成的索引
5) 全文索引
FULLTEXT，支持值的全文查找，只有MyISAM引擎支持全文索引
6) 空间索引
对空间数据类型的字段建立的索引

### 1. 索引分类
##### 1.1 普通索引和唯一索引
1. 创建索引
```mysql
CREATE TABLE book(
	# ...
	INDEX(field_name) #普通索引
	UNIQUE INDEX index_name(field_name) #唯一索引
);
```

2. 在已存在的表上创建索引
- 使用`ALTER TABLE`语句创建
`ALTER TABLE table_name ADD [UNIQUE|FULLTEXT|SPACIAL] [INDEX|KEY] index_name(field(length)...)`
```mysql
ALTER TABLE book ADD INDEX index index_name(field_name(30));
ALTER TABLE book ADD UNIQUE INDEX index index_name(field_name(30));
ALTER TABLE book ADD FULLTEXT INDEX index index_name(field_name(30));
```

- 使用`CREATE INDEX`创建索引
`CREATE [UNIQUE|FULLTEXT|SPACIAL] INDEX index_name ON table_name (field_name(length)...)`
```mysql
CREATE INDEX index_name ON book(field_name(30));
CREATE FULLTEXT INDEX index_name ON book(field_name(30));
CREATE UNIQUE INDEX index_name ON book(field_name(30));
```

3. 删除索引
- 使用`ALTER TABLE`删除索引
`ALTER TABLE table_name DROP INDEX index_name`
> 使用AUTO_INCREMENT约束字段的唯一索引不能删除

- 使用`DROP INDEX`删除索引
`DROP INDEX index_name ON table_name;`
> 删除列时，若列是索引的组成部分，则列也会从索引中删除。若索引中所有列都被删除，则整个索引都将被删除。

5. 查看索引
`SHOW INDEX FROM table_name \G`

##### 1.2 单列索引和组合索引
1. 创建索引
```mysql
CREATE TABLE book(
	# ...
	INDEX index_name(field_name(length)) #创建索引长度为length的单列索引
	INDEX index_name(field1,field2,...) #组合索引
)
```

##### 1.3 全文索引
1. 创建索引
只有MyISAM支持全文索引，因此创建表时需要更改引擎。此外，索引列的类型须为CHAR、VARCHAR或TEXT。
```mysql
CREATE TABLE book(
	# ...
	FULLTEXT INDEX index_name(field_name)
)ENGINE=MyISAM;
```



##### 1.4 空间索引
MySQL中的空间数据类型有：GEOMETRY，POINT，LINESTRING，POLYGON。且必须声明为NOT NULL，只有MyISAM支持。
```mysql
# 创建GEOMETRY字段上的空间索引
CREATE TABLE t(
	g GEOMETRY NOT NULL,
	SPATIAL INDEX index_name(g)
)ENGINE=MyISAM;
```

